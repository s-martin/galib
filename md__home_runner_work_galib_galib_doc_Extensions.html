<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Modernized GAlib: Customizing GAlib</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Modernized GAlib
   &#160;<span id="projectnumber">3.0.0 current</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Customizing GAlib </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><blockquote class="doxtable">
<p>Original author Matthew Wall. All rights reserved.<br  />
 Copyright (c) 1995-1996 Massachusetts Institute of Technology<br  />
 Copyright (c) 1996-1999 Matthew Wall </p>
</blockquote>
<p>This document describes how to extend GAlib's capabilities by defining your own genomes and genetic operators. The best way to customize the behavior of an object is to derive a new class. If you do not want to do that much work, GAlib is designed to let you replace behaviors of existing objects by defining new functions.</p>
<p>see also: *<a href="Overview.html">library overview</a>, <a href="ClassHierarchy.html">class hierarchy</a>, <a href="API.html">programming interface</a>*</p>
<h1><a class="anchor" id="autotoc_md11"></a>
Deriving your own genome class</h1>
<p>You can create your own genome class by multiply-inheriting from the base genome class and your own data type. For example, if you have already have an object defined, say MyObject, then you would derive a new genome class called MyGenome, whose class definition looks like this:</p>
<div class="fragment"><div class="line"><span class="comment">// Class definition for the new genome object, including statically defined</span></div>
<div class="line"><span class="comment">// declarations for default evaluation, initialization, mutation, and </span></div>
<div class="line"><span class="comment">// comparison methods for this genome class.</span></div>
<div class="line"><span class="keyword">class </span>MyGenome : <span class="keyword">public</span> MyObject, <span class="keyword">public</span> <a class="code" href="classGAGenome.html">GAGenome</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  GADefineIdentity(<span class="stringliteral">&quot;MyGenome&quot;</span>, 201);</div>
<div class="line">  <span class="keyword">static</span> <span class="keywordtype">void</span> Init(<a class="code" href="classGAGenome.html">GAGenome</a>&amp;amp;);</div>
<div class="line">  <span class="keyword">static</span> <span class="keywordtype">int</span> Mutate(<a class="code" href="classGAGenome.html">GAGenome</a>&amp;amp;, float);</div>
<div class="line">  <span class="keyword">static</span> <span class="keywordtype">float</span> Compare(<span class="keyword">const</span> <a class="code" href="classGAGenome.html">GAGenome</a>&amp;amp;, <span class="keyword">const</span> <a class="code" href="classGAGenome.html">GAGenome</a>&amp;amp;);</div>
<div class="line">  <span class="keyword">static</span> <span class="keywordtype">float</span> Evaluate(<a class="code" href="classGAGenome.html">GAGenome</a>&amp;amp;);</div>
<div class="line">  <span class="keyword">static</span> <span class="keywordtype">int</span> Cross(<span class="keyword">const</span> <a class="code" href="classGAGenome.html">GAGenome</a>&amp;amp;, <span class="keyword">const</span> <a class="code" href="classGAGenome.html">GAGenome</a>&amp;amp;, <a class="code" href="classGAGenome.html">GAGenome</a>*, <a class="code" href="classGAGenome.html">GAGenome</a>*);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  MyGenome() : <a class="code" href="classGAGenome.html">GAGenome</a>(Init, Mutate, Compare) { </div>
<div class="line">    evaluator(Evaluate); </div>
<div class="line">    crossover(Cross); </div>
<div class="line">  }</div>
<div class="line">  MyGenome(<span class="keyword">const</span> MyGenome&amp;amp; orig) { copy(orig); }</div>
<div class="line">  <span class="keyword">virtual</span> ~MyGenome() {}</div>
<div class="line">  MyGenome&amp;amp; operator=(<span class="keyword">const</span> <a class="code" href="classGAGenome.html">GAGenome</a>&amp;amp; orig){</div>
<div class="line">    <span class="keywordflow">if</span>(&amp;amp;orig != <span class="keyword">this</span>) copy(orig);</div>
<div class="line">    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">virtual</span> <a class="code" href="classGAGenome.html">GAGenome</a>* clone(CloneMethod)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">new</span> MyGenome(*<span class="keyword">this</span>);}</div>
<div class="line">  <span class="keyword">virtual</span> <span class="keywordtype">void</span> copy(<span class="keyword">const</span> <a class="code" href="classGAGenome.html">GAGenome</a>&amp;amp; orig) {</div>
<div class="line">    GAGenome::copy(orig);  <span class="comment">// this copies all of the base genome parts</span></div>
<div class="line">    <span class="comment">// copy any parts of MyObject here</span></div>
<div class="line">    <span class="comment">// copy any parts of MyGenome here</span></div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// any data/member functions specific to this new class</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> </div>
<div class="line">MyGenome::Init(<a class="code" href="classGAGenome.html">GAGenome</a>&amp;amp;){</div>
<div class="line">  <span class="comment">// your initializer here</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> </div>
<div class="line">MyGenome::Mutate(<a class="code" href="classGAGenome.html">GAGenome</a>&amp;amp;, float){</div>
<div class="line">  <span class="comment">// your mutator here</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">float</span> </div>
<div class="line">MyGenome::Compare(<span class="keyword">const</span> <a class="code" href="classGAGenome.html">GAGenome</a>&amp;amp;, <span class="keyword">const</span> <a class="code" href="classGAGenome.html">GAGenome</a>&amp;amp;){</div>
<div class="line">  <span class="comment">// your comparison here</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">float</span> </div>
<div class="line">MyGenome::Evaluate(<a class="code" href="classGAGenome.html">GAGenome</a>&amp;amp;){</div>
<div class="line">  <span class="comment">// your evaluation here</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">MyGenome::Cross(<span class="keyword">const</span> <a class="code" href="classGAGenome.html">GAGenome</a>&amp;amp; mom, <span class="keyword">const</span> <a class="code" href="classGAGenome.html">GAGenome</a>&amp;amp; dad,</div>
<div class="line">                <a class="code" href="classGAGenome.html">GAGenome</a>* sis, <a class="code" href="classGAGenome.html">GAGenome</a>* bro){</div>
<div class="line">  <span class="comment">// your crossover here</span></div>
<div class="line">}</div>
<div class="ttc" id="aclassGAGenome_html"><div class="ttname"><a href="classGAGenome.html">GAGenome</a></div><div class="ttdoc">The base genome class just defines the genome interface - how to mutate, crossover,...</div><div class="ttdef"><b>Definition:</b> GAGenome.h:200</div></div>
</div><!-- fragment --><p>By convention, one of the arguments to a derived genome constructor is the objective function. Alternatively (as illustrated in this example), you can hard code a default objective function into your genome - just call the <b>evaluator</b> member somewhere in your constructor and pass the function you want used as the default.</p>
<p>Once you have defined your genome class, you should define the <a href="#genome_initialization">intialization</a>, <a href="#genome_mutation">mutation</a>, <a href="#genome_comparison">comparison</a>, and <a href="#genome_crossover">crossover</a> operators for it. The comparison operator is optional, but if you do not define it you will not be able to use the diversity measures in the genetic algorithms and/or populations.</p>
<p>Note that the genetic comparator is not necessarily the same as the boolean operator== and operator!= comparators. The genetic comparator returns 0 if the two individuals are the same, -1 if the comparison fails for some reason, and a real number greater than 0 indicating the degree of difference if the individuals are not identical but can be compared. It may be based on genotype or phenotype. The boolean comparators, on the other hand, indicate only whether or not two individuals are identical. In most cases, the boolean comparator can simply call the genetic comparator, but in some cases it is more efficient to define different operators (the boolean comparators are called much more often than the genetic comparators, especially if no diversity is being measured).</p>
<p>To work properly with the GAlib, you <em>must</em> define the following:</p>
<div class="fragment"><div class="line">MyGenome( -<span class="keywordflow">default</span>-args-<span class="keywordflow">for</span>-your-genome-constructor )</div>
<div class="line">MyGenome(<span class="keyword">const</span> MyGenome&amp;amp;)</div>
<div class="line"><span class="keyword">virtual</span> <a class="code" href="classGAGenome.html">GAGenome</a>* clone(GAGenome::CloneMethod) <span class="keyword">const</span></div>
</div><!-- fragment --><p>If your genome adds any non-trivial member data, you must define these:</p>
<div class="fragment"><div class="line"><span class="keyword">virtual</span> ~MyGenome()</div>
<div class="line">virtual copy(const <a class="code" href="classGAGenome.html">GAGenome</a>&amp;amp;)</div>
<div class="line">virtual <span class="keywordtype">int</span> equal(const <a class="code" href="classGAGenome.html">GAGenome</a>&amp;amp;) const</div>
</div><!-- fragment --><p>To enable streams-based reading and writing of your genome, you should define these:</p>
<div class="fragment"><div class="line"><span class="keyword">virtual</span> <span class="keywordtype">int</span> read(istream&amp;amp;)</div>
<div class="line"><span class="keyword">virtual</span> <span class="keywordtype">int</span> write(ostream&amp;amp;) const</div>
</div><!-- fragment --><p>When you derive a genome, don't forget to use the _evaluated flag to indicate when the state of the genome has changed and an evaluation is needed. If a member function changes the state of your genome, that member function should set the_evaluated flag to gaFalse. </p><pre class="fragment">Assign a default crossover, mutation, initialization, and comparison
method so that users don't have to assign one unless they want to. 
</pre><p> It is a good idea to define an identity for your genome (especially if you will be using it in an environment with multiple genome types running around). Use the DefineIdentity macro (defined in id.h) to do this in your class definition. The DefineIdentity macro sets a class ID number and the name that will be used in error messages for the class. You can use any number above 200 for the ID, but be sure to use a different number for each of your classes.</p>
<p>When run-time type information (RTTI) has stabilized across compilers, GAlib will probably use that instead of the Define/Declare identity macros.</p>
<h1><a class="anchor" id="autotoc_md12"></a>
Genome Testing</h1>
<p>Use the following program to test your genome. The basic idea here is to test incrementally in order to isolate problems as they arise. If your genome works with a small test program such as this one, it will function properly with any genetic algorithm in GAlib. (This is no guarantee, however, that your genome will help you find the solution to your problem. That is another matter entirely.)</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span></div>
<div class="line">main() {</div>
<div class="line">  MyGenome genome;      <span class="comment">// test default constructor (if we have one)</span></div>
<div class="line">  cout &amp;lt;&amp;lt; <span class="stringliteral">&quot;genome after creation:\n&quot;</span> &amp;lt;&amp;lt; genome &amp;lt;&amp;lt; endl;</div>
<div class="line"> </div>
<div class="line">  genome.initialize();  <span class="comment">// test the initializer</span></div>
<div class="line">  cout &amp;lt;&amp;lt; <span class="stringliteral">&quot;genome after initialization:\n&quot;</span> &amp;lt;&amp;lt; genome &amp;lt;&amp;lt; endl;</div>
<div class="line"> </div>
<div class="line">  genome.mutate();      <span class="comment">// test the mutator</span></div>
<div class="line">  cout &amp;lt;&amp;lt; <span class="stringliteral">&quot;genome after mutation:\n&quot;</span> &amp;lt;&amp;lt; genome &amp;lt;&amp;lt; endl;</div>
<div class="line"> </div>
<div class="line">  MyGenome* a = <span class="keyword">new</span> MyGenome(genome);   <span class="comment">// test copy constructor</span></div>
<div class="line">  MyGenome* b = <span class="keyword">new</span> MyGenome(genome);</div>
<div class="line"> </div>
<div class="line">  MyGenome* c = genome.clone(GAGenome::CONTENTS);</div>
<div class="line">  cout &amp;lt;&amp;lt; <span class="stringliteral">&quot;clone contents:\n&quot;</span> &amp;lt;&amp;lt; *c &amp;lt;&amp;lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">  MyGenome* d = genome.clone(GAGenome::ATTRIBUTES);</div>
<div class="line">  cout &amp;lt;&amp;lt; <span class="stringliteral">&quot;clone attributes:\n&quot;</span> &amp;lt;&amp;lt; *d &amp;lt;&amp;lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"> </div>
<div class="line">  a-&gt;initialize();</div>
<div class="line">  b-&gt;initialize();</div>
<div class="line">  cout &amp;lt;&amp;lt; <span class="stringliteral">&quot;parents:\n&quot;</span> &amp;lt;&amp;lt; *a &amp;lt;&amp;lt; <span class="stringliteral">&quot;\n&quot;</span> &amp;lt;&amp;lt; *b &amp;lt;&amp;lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"> </div>
<div class="line">  MyGenome::DefaultCrossover(*a, *b, c, d);   <span class="comment">// test two child crossover</span></div>
<div class="line">  cout &amp;lt;&amp;lt; <span class="stringliteral">&quot;children of crossover:\n&quot;</span> &amp;lt;&amp;lt; *c &amp;lt;&amp;lt; <span class="stringliteral">&quot;\n&quot;</span> &amp;lt;&amp;lt; *d &amp;lt;&amp;lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">  MyGenome::DefaultCrossover(*a, *b, c, 0);   <span class="comment">// test single child crossover</span></div>
<div class="line">  cout &amp;lt;&amp;lt; <span class="stringliteral">&quot;child of crossover:\n&quot;</span> &amp;lt;&amp;lt; *c &amp;lt;&amp;lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"> </div>
<div class="line">  a-&gt;compare(*b);       <span class="comment">// test the comparator</span></div>
<div class="line"> </div>
<div class="line">  <span class="keyword">delete</span> a;</div>
<div class="line">  <span class="keyword">delete</span> b;</div>
<div class="line">  <span class="keyword">delete</span> c;</div>
<div class="line">  <span class="keyword">delete</span> d;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md13"></a>
Genome Initialization</h1>
<p>The initializer takes a single argument: the genome to be initialized. The genome has already been allocated; the intializer only needs to populate it with appropriate contents.</p>
<p>Here is the implementation of an initializer for the <a class="el" href="classGATreeGenome.html">GATreeGenome</a>&lt;int&gt; class.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span></div>
<div class="line">TreeInitializer(<a class="code" href="classGAGenome.html">GAGenome</a> &amp;amp; c)</div>
<div class="line">{</div>
<div class="line">  <a class="code" href="classGATreeGenome.html">GATreeGenome</a>&amp;lt;<span class="keywordtype">int</span>&amp;gt; &amp;amp;child=(<a class="code" href="classGATreeGenome.html">GATreeGenome</a>&amp;lt;<span class="keywordtype">int</span>&amp;gt; &amp;amp;)c;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// destroy any pre-existing tree</span></div>
<div class="line">  child.root();</div>
<div class="line">  child.destroy();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create a new tree with depth of &#39;depth&#39; and each eldest node containing</span></div>
<div class="line"><span class="comment">// &#39;n&#39; children (the other siblings have none).</span></div>
<div class="line">  <span class="keywordtype">int</span> depth=2, n=3, count=0;</div>
<div class="line">  child.insert(count++,GATreeBASE::ROOT);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&amp;lt;depth; i++){</div>
<div class="line">    child.eldest();</div>
<div class="line">    child.insert(count++);</div>
<div class="line">    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0; j&amp;lt;n; j++)</div>
<div class="line">      child.insert(count++,GATreeBASE::AFTER);</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="aclassGATreeGenome_html"><div class="ttname"><a href="classGATreeGenome.html">GATreeGenome</a></div><div class="ttdef"><b>Definition:</b> GATreeGenome.hpp:28</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md14"></a>
Genome Mutation</h1>
<p>The genome mutator takes two arguments: the genome that will receive the mutation(s) and a mutation probability. The exact meaning of the mutation probability is up to the designer of the mutation operator. The mutator should return the number of mutations that occured.</p>
<p>Most genetic algorithms invoke the mutation method on each newly generated offspring. So your mutation operator should base its actions on the value of the mutation probability. For example, an array of floats could flip a <em>pmut</em>-biased coin for each element in the array. If the coin toss returns true, the element gets a Gaussian mutation. If it returns false, the element is left unchanged. Alternatively, a single biased coin toss could be used to determine whether or not the <em>entire</em> genome should be mutated.</p>
<p>Here is an implementation of the flip mutator for the GA1DBinaryString class. This mutator flips a biased coin for each bit in the string.</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> </div>
<div class="line">GA1DBinStrFlipMutator(<a class="code" href="classGAGenome.html">GAGenome</a> &amp;amp; c, <span class="keywordtype">float</span> pmut)</div>
<div class="line">{</div>
<div class="line">  <a class="code" href="classGA1DBinaryStringGenome.html">GA1DBinaryStringGenome</a> &amp;amp;child=(<a class="code" href="classGA1DBinaryStringGenome.html">GA1DBinaryStringGenome</a> &amp;amp;)c;</div>
<div class="line">  <span class="keywordflow">if</span>(pmut &amp;lt;= 0.0) <span class="keywordflow">return</span>(0);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">int</span> nMut=0;</div>
<div class="line">  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=child.length()-1; i&amp;gt;=0; i--){</div>
<div class="line">    <span class="keywordflow">if</span>(GAFlipCoin(pmut)){</div>
<div class="line">      child.gene(i, ((child.gene(i) == 0) ? 1 : 0));</div>
<div class="line">      nMut++;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> nMut;</div>
<div class="line">}</div>
<div class="ttc" id="aclassGA1DBinaryStringGenome_html"><div class="ttname"><a href="classGA1DBinaryStringGenome.html">GA1DBinaryStringGenome</a></div><div class="ttdoc">Interface for the 1D binary string genome, including crossover objects and all the default and built-...</div><div class="ttdef"><b>Definition:</b> GA1DBinStrGenome.h:43</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md15"></a>
Genome Crossover</h1>
<p>The crossover method is used by the genetic algorithm to mate individuals from the population to form new offspring. Each genome should define a default crossover method for the genetic algorithms to use. The <b>sexual</b> and <b>asexual</b> member functions return a pointer to the preferred sexual and asexual mating methods, respectively. The <b>crossover</b> member function is used to change the preferred mating method. The genome does not have a member function to invoke the crossover; only the genetic algorithm can actually perform the crossover.</p>
<p>Some genetic algorithms use sexual mating, others use asexual mating. If possible, define both so that your genome will work with either kind of genetic algorithm. If your derived class does not define a cross method, an error message will be posted whenever crossover is attempted.</p>
<p>Sexual crossover takes four arguments: two parents and two children. If one child is nil, the operator should be able to generate a single child. The genomes have already been allocated, so the crossover operator should simply modify the contents of the child genome as appropriate. The crossover function should return the number of crossovers that occurred. Your crossover function should be able to operate on one or two children, so be sure to test the child pointers to see if the genetic algorithm is asking you to create one or two children.</p>
<p>Here is an implementation of the two-parent/one-or-two-child single point crossover operator for fixed-length genomes of the <a class="el" href="classGA1DBinaryStringGenome.html" title="Interface for the 1D binary string genome, including crossover objects and all the default and built-...">GA1DBinaryStringGenome</a> class.</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span></div>
<div class="line">SinglePointCrossover(<span class="keyword">const</span> <a class="code" href="classGAGenome.html">GAGenome</a>&amp;amp; p1, <span class="keyword">const</span> <a class="code" href="classGAGenome.html">GAGenome</a>&amp;amp; p2, <a class="code" href="classGAGenome.html">GAGenome</a>* c1, <a class="code" href="classGAGenome.html">GAGenome</a>* c2){</div>
<div class="line">  <a class="code" href="classGA1DBinaryStringGenome.html">GA1DBinaryStringGenome</a> &amp;amp;mom=(<a class="code" href="classGA1DBinaryStringGenome.html">GA1DBinaryStringGenome</a> &amp;amp;)p1;</div>
<div class="line">  <a class="code" href="classGA1DBinaryStringGenome.html">GA1DBinaryStringGenome</a> &amp;amp;dad=(<a class="code" href="classGA1DBinaryStringGenome.html">GA1DBinaryStringGenome</a> &amp;amp;)p2;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">int</span> n=0;</div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> site = GARandomInt(0, mom.length());</div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len = mom.length() - site;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span>(c1){</div>
<div class="line">    <a class="code" href="classGA1DBinaryStringGenome.html">GA1DBinaryStringGenome</a> &amp;amp;sis=(<a class="code" href="classGA1DBinaryStringGenome.html">GA1DBinaryStringGenome</a> &amp;amp;)*c1;</div>
<div class="line">    sis.copy(mom, 0, 0, site);</div>
<div class="line">    sis.copy(dad, site, site, len);</div>
<div class="line">    n++;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span>(c2){</div>
<div class="line">    <a class="code" href="classGA1DBinaryStringGenome.html">GA1DBinaryStringGenome</a> &amp;amp;bro=(<a class="code" href="classGA1DBinaryStringGenome.html">GA1DBinaryStringGenome</a> &amp;amp;)*c2;</div>
<div class="line">    bro.copy(dad, 0, 0, site);</div>
<div class="line">    bro.copy(mom, site, site, len);</div>
<div class="line">    n++;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> n;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md16"></a>
Genome Comparison</h1>
<p>The comparison method is used for diversity calculations. It compares two genomes and returns a number that is greater than or equal to zero. A value of 0 means that the two genomes are identical (no diversity). There is no maximum value for the return value from the comparator. A value of -1 indicates that the diversity could not be calculated.</p>
<p>Here is the comparator for the binary string genomes. It simply counts up the number of bits that both genomes share. In this example, we return a -1 if the genomes are not the same length.</p>
<div class="fragment"><div class="line"><span class="keywordtype">float</span></div>
<div class="line">GA1DBinStrComparator(<span class="keyword">const</span> <a class="code" href="classGAGenome.html">GAGenome</a>&amp;amp; a, <span class="keyword">const</span> <a class="code" href="classGAGenome.html">GAGenome</a>&amp;amp; b){</div>
<div class="line">  <a class="code" href="classGA1DBinaryStringGenome.html">GA1DBinaryStringGenome</a> &amp;amp;sis=(<a class="code" href="classGA1DBinaryStringGenome.html">GA1DBinaryStringGenome</a> &amp;amp;)a;</div>
<div class="line">  <a class="code" href="classGA1DBinaryStringGenome.html">GA1DBinaryStringGenome</a> &amp;amp;bro=(<a class="code" href="classGA1DBinaryStringGenome.html">GA1DBinaryStringGenome</a> &amp;amp;)b;</div>
<div class="line">  <span class="keywordflow">if</span>(sis.length() != bro.length()) <span class="keywordflow">return</span> -1;</div>
<div class="line">  <span class="keywordtype">float</span> count = 0.0;</div>
<div class="line">  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=sis.length()-1; i&amp;gt;=0; i--)</div>
<div class="line">    count += ((sis.gene(i) == bro.gene(i)) ? 0 : 1);</div>
<div class="line">  <span class="keywordflow">return</span> count/sis.length();</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md17"></a>
Genome Evaluation</h1>
<p>The genome evaluator is the objective function for your problem. It takes a single genome as its argument. The evaluator returns a number that indicates how good or bad the genome is. You must cast the generic genome to the genome type that you are using. If your objective function works with different genome types, then use the genome object's <b>className</b> and/or <b>classID</b> member functions to determine the genome class before you do the casts.</p>
<p>Here is a simple evaluation function for a real number genome with a single element. The function tries to maximize a sinusoidal.</p>
<div class="fragment"><div class="line"><span class="keywordtype">float</span></div>
<div class="line">Objective(<a class="code" href="classGAGenome.html">GAGenome</a>&amp;amp; g){</div>
<div class="line">  <a class="code" href="classGA1DArrayAlleleGenome.html">GARealGenome</a>&amp;amp; genome = (<a class="code" href="classGA1DArrayAlleleGenome.html">GARealGenome</a> &amp;amp;)g;</div>
<div class="line">  <span class="keywordflow">return</span> 1 + sin(genome.gene(0)*2*M_PI);</div>
<div class="line">}</div>
<div class="ttc" id="aclassGA1DArrayAlleleGenome_html"><div class="ttname"><a href="classGA1DArrayAlleleGenome.html">GA1DArrayAlleleGenome</a></div><div class="ttdef"><b>Definition:</b> GA1DArrayGenome.hpp:1169</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md18"></a>
Population Initialization</h1>
<p>This method is invoked when the population is initialized.</p>
<p>Here is an implemenation that invokes the initializer for each genome in the population.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> </div>
<div class="line">PopInitializer(<a class="code" href="classGAPopulation.html">GAPopulation</a> &amp;amp; p){</div>
<div class="line">  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&amp;lt;p.size(); i++)</div>
<div class="line">    p.individual(i).initialize();</div>
<div class="line">}</div>
<div class="ttc" id="aclassGAPopulation_html"><div class="ttname"><a href="classGAPopulation.html">GAPopulation</a></div><div class="ttdef"><b>Definition:</b> GAPopulation.h:66</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md19"></a>
Population Evaluation</h1>
<p>This method is invoked when the population is evaluated. If your objective is population-based, you can use this method to set the score for each genome rather than invoking an evaluator for each genome.</p>
<p>Here is an implementation that invokes the evaluation method for each genome in the population.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> </div>
<div class="line">PopEvaluator(<a class="code" href="classGAPopulation.html">GAPopulation</a> &amp;amp; p){</div>
<div class="line">  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&amp;lt;p.size(); i++)</div>
<div class="line">    p.individual(i).evaluate();</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md20"></a>
Scaling Scheme</h1>
<p>The scaling object does the transformation from raw (objective) scores to scaled (fitness) scores. The most important member function you will have to define for a new scaling object is the <b>evaluate</b> member function. This function calculates the fitness scores based on the objective scores in the population that is passed to it.</p>
<p>The <a class="el" href="classGAScalingScheme.html">GAScalingScheme</a> class is a pure virtual (abstract) class and cannot be instantiated. To make your derived class non-virtual, you <em>must</em> define the <b>clone</b> and <b>evaluate</b> functions. You should also define the <b>copy</b> method if your derived class introduces any additional data members that require non-trivial copy.</p>
<p>The scaling class is polymorphic, so you should define the object's identity using the GADefineIdentity macro. This macro sets a class ID number and the name that will be used in error messages for the class. You can use any number above 200 for the ID, but be sure to use a different number for each of your objects.</p>
<p>Here is an implementation of sigma truncation scaling.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>SigmaTruncationScaling : <span class="keyword">public</span> <a class="code" href="classGAScalingScheme.html">GAScalingScheme</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  GADefineIdentity(<span class="stringliteral">&quot;SigmaTruncationScaling&quot;</span>, 286);</div>
<div class="line"> </div>
<div class="line">  SigmaTruncationScaling(<span class="keywordtype">float</span> m=gaDefSigmaTruncationMultiplier) : c(m) {}</div>
<div class="line">  SigmaTruncationScaling(<span class="keyword">const</span> SigmaTruncationScaling &amp;amp; arg){copy(arg);}</div>
<div class="line">  SigmaTruncationScaling &amp;amp; operator=(<span class="keyword">const</span> <a class="code" href="classGAScalingScheme.html">GAScalingScheme</a> &amp;amp; arg)</div>
<div class="line">    { copy(arg); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }</div>
<div class="line">  <span class="keyword">virtual</span> ~SigmaTruncationScaling() {}</div>
<div class="line">  <span class="keyword">virtual</span> <a class="code" href="classGAScalingScheme.html">GAScalingScheme</a> * clone()<span class="keyword"> const </span></div>
<div class="line"><span class="keyword">    </span>{ <span class="keywordflow">return</span> <span class="keyword">new</span> SigmaTruncationScaling(*<span class="keyword">this</span>); }</div>
<div class="line">  <span class="keyword">virtual</span> <span class="keywordtype">void</span> evaluate(<span class="keyword">const</span> <a class="code" href="classGAPopulation.html">GAPopulation</a> &amp;amp; p);</div>
<div class="line">  <span class="keyword">virtual</span> <span class="keywordtype">void</span> copy(<span class="keyword">const</span> <a class="code" href="classGAScalingScheme.html">GAScalingScheme</a> &amp;amp; arg){</div>
<div class="line">    <span class="keywordflow">if</span>(&amp;amp;arg != <span class="keyword">this</span> &amp;amp;&amp;amp; sameClass(arg)){</div>
<div class="line">      GAScalingScheme::copy(arg);</div>
<div class="line">      c=((SigmaTruncationScaling&amp;amp;)arg).c;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordtype">float</span> multiplier(<span class="keywordtype">float</span> fm) { <span class="keywordflow">return</span> c=fm; }</div>
<div class="line">  <span class="keywordtype">float</span> multiplier()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> c; }</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">  <span class="keywordtype">float</span> c;   <span class="comment">// std deviation multiplier</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> </div>
<div class="line">SigmaTruncationScaling::evaluate(<span class="keyword">const</span> <a class="code" href="classGAPopulation.html">GAPopulation</a> &amp;amp; p) {</div>
<div class="line">  <span class="keywordtype">float</span> f;</div>
<div class="line">  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&amp;lt;p.size(); i++){</div>
<div class="line">    f = p.individual(i).score() - p.ave() + c * p.dev();</div>
<div class="line">    <span class="keywordflow">if</span>(f &amp;lt; 0) f = 0;</div>
<div class="line">    p.individual(i).fitness(f);</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="aclassGAScalingScheme_html"><div class="ttname"><a href="classGAScalingScheme.html">GAScalingScheme</a></div><div class="ttdef"><b>Definition:</b> GAScaling.h:46</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md21"></a>
Selection Scheme</h1>
<p>The selection object is used to pick individuals from the population. Before a selection occurs, the <b>update</b> method is called. You can use this method to do any pre-selection data transformations for your selection scheme. When a selection is requested, the <b>select</b> method is called. The <b>select</b> method should return a reference to a single individual from the population.</p>
<p>A selector may make its selections based either on the scaled (fitness) scores or on the raw (objective) scores of the individuals in the population. Note also that a population may be sorted either low-to-high or high-to-low, depending on which sort order was chosen. Your selector should be able to handle either order (this way it will work with genetic algorithms that maximize or minimize).</p>
<p>The selection scheme class is polymorphic, so you should define the object's identity using the GADefineIdentity macro. This macro sets a class ID number and the name that will be used in error messages for the class. You can use any number above 200 for the ID, but be sure to use a different number for each of your objects.</p>
<p>Here is an implementation of a tournament selector. It is based on the roulette wheel selector and shares some of the roulette wheel selector's functionality. In particular, this tournament selector uses the roulette wheel selector's <b>update</b> method, so it does not define its own. The <b>select</b> method does two fitness-proportionate selections then returns the individual with better score.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>TournamentSelector : <span class="keyword">public</span> GARouletteWheelSelector {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  GADefineIdentity(<span class="stringliteral">&quot;TournamentSelector&quot;</span>, 255);</div>
<div class="line"> </div>
<div class="line">  TournamentSelector(<span class="keywordtype">int</span> w=GASelectionScheme::FITNESS) : </div>
<div class="line">  GARouletteWheelSelector(w) {}</div>
<div class="line">  TournamentSelector(<span class="keyword">const</span> TournamentSelector&amp;amp; orig) { copy(orig); }</div>
<div class="line">  TournamentSelector&amp;amp; operator=(<span class="keyword">const</span> <a class="code" href="classGASelectionScheme.html">GASelectionScheme</a>&amp;amp; orig) </div>
<div class="line">    { <span class="keywordflow">if</span>(&amp;amp;orig != <span class="keyword">this</span>) copy(orig); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }</div>
<div class="line">  <span class="keyword">virtual</span> ~TournamentSelector() {}</div>
<div class="line">  <span class="keyword">virtual</span> <a class="code" href="classGASelectionScheme.html">GASelectionScheme</a>* clone()<span class="keyword"> const</span></div>
<div class="line"><span class="keyword">    </span>{ <span class="keywordflow">return</span> <span class="keyword">new</span> TournamentSelector; }</div>
<div class="line">  <span class="keyword">virtual</span> <a class="code" href="classGAGenome.html">GAGenome</a>&amp;amp; select() <span class="keyword">const</span>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><a class="code" href="classGAGenome.html">GAGenome</a> &amp;amp;</div>
<div class="line">TournamentSelector::select()<span class="keyword"> const </span>{</div>
<div class="line">  <span class="keywordtype">int</span> picked=0;</div>
<div class="line">  <span class="keywordtype">float</span> cutoff;</div>
<div class="line">  <span class="keywordtype">int</span> i, upper, lower;</div>
<div class="line"> </div>
<div class="line">  cutoff = GARandomFloat();</div>
<div class="line">  lower = 0; upper = pop-&amp;gt;size()-1;</div>
<div class="line">  <span class="keywordflow">while</span>(upper &amp;gt;= lower){</div>
<div class="line">    i = lower + (upper-lower)/2;</div>
<div class="line">    <span class="keywordflow">if</span>(psum[i] &amp;gt; cutoff)</div>
<div class="line">      upper = i-1;</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">      lower = i+1;</div>
<div class="line">  }</div>
<div class="line">  lower = Min(pop-&amp;gt;size()-1, lower);</div>
<div class="line">  lower = Max(0, lower);</div>
<div class="line">  picked = lower;</div>
<div class="line"> </div>
<div class="line">  cutoff = GARandomFloat();</div>
<div class="line">  lower = 0; upper = pop-&amp;gt;size()-1;</div>
<div class="line">  <span class="keywordflow">while</span>(upper &amp;gt;= lower){</div>
<div class="line">    i = lower + (upper-lower)/2;</div>
<div class="line">    <span class="keywordflow">if</span>(psum[i] &amp;gt; cutoff)</div>
<div class="line">      upper = i-1;</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">      lower = i+1;</div>
<div class="line">  }</div>
<div class="line">  lower = Min(pop-&amp;gt;size()-1, lower);</div>
<div class="line">  lower = Max(0, lower);</div>
<div class="line"> </div>
<div class="line">  GAPopulation::SortBasis basis = </div>
<div class="line">    (which == FITNESS ? GAPopulation::SCALED : GAPopulation::RAW);</div>
<div class="line">  <span class="keywordflow">if</span>(pop-&amp;gt;order() == GAPopulation::LOW_IS_BEST){</div>
<div class="line">    <span class="keywordflow">if</span>(pop-&amp;gt;individual(lower,basis).score() &amp;lt;</div>
<div class="line">       pop-&amp;gt;individual(picked,basis).score())</div>
<div class="line">      picked = lower;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span>{</div>
<div class="line">    <span class="keywordflow">if</span>(pop-&amp;gt;individual(lower,basis).score() &amp;gt;</div>
<div class="line">       pop-&amp;gt;individual(picked,basis).score())</div>
<div class="line">      picked = lower;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> pop-&amp;gt;individual(picked,basis);</div>
<div class="line">}</div>
<div class="ttc" id="aclassGASelectionScheme_html"><div class="ttname"><a href="classGASelectionScheme.html">GASelectionScheme</a></div><div class="ttdef"><b>Definition:</b> GASelector.h:55</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md22"></a>
Genetic Algorithm</h1>
<p>Here is a sample derived class that does restricted mating. In this example, one of the parents is selected as usual. The second individual is select as the first, but it is used only if it is similar to the first individual. If not, we make another selection. If enough selections fail, we take what we can get.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>RestrictedMatingGA : <span class="keyword">public</span> <a class="code" href="classGASteadyStateGA.html">GASteadyStateGA</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  GADefineIdentity(<span class="stringliteral">&quot;RestrictedMatingGA&quot;</span>, 288);</div>
<div class="line">  RestrictedMatingGA(<span class="keyword">const</span> <a class="code" href="classGAGenome.html">GAGenome</a>&amp;amp; g) : <a class="code" href="classGASteadyStateGA.html">GASteadyStateGA</a>(g) {}</div>
<div class="line">  <span class="keyword">virtual</span> ~RestrictedMatingGA() {}</div>
<div class="line">  <span class="keyword">virtual</span> <span class="keywordtype">void</span> step();</div>
<div class="line">  RestrictedMatingGA &amp;amp; operator++() { step(); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span></div>
<div class="line">RestrictedMatingGA::step()</div>
<div class="line">{ </div>
<div class="line">  <span class="keywordtype">int</span> i, k;</div>
<div class="line">  <span class="keywordflow">for</span>(i=0; i&amp;lt;tmpPop-&amp;gt;size()-; i++){</div>
<div class="line">    mom = &amp;amp;(pop-&amp;gt;select()); </div>
<div class="line">    k=0;</div>
<div class="line">    <span class="keywordflow">do</span> { k++; dad = &amp;amp;(pop-&amp;gt;select()); }</div>
<div class="line">    <span class="keywordflow">while</span>(mom-&amp;gt;compare(*dad) &amp;lt; THRESHOLD &amp;amp;&amp;amp; k&amp;lt;pop-&amp;gt;size());</div>
<div class="line">    stats.numsel += 2;</div>
<div class="line">    <span class="keywordflow">if</span>(GAFlipCoin(pCrossover()))</div>
<div class="line">      stats.numcro += (*scross)(*mom, *dad, &amp;amp;tmpPop-&amp;gt;individual(i), 0);</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">      tmpPop-&amp;gt;individual(i).copy(*mom);</div>
<div class="line">    stats.nummut += tmpPop-&amp;gt;individual(i).mutate(pMutation());</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">for</span>(i=0; i&amp;lt;tmpPop-&amp;gt;size(); i++)</div>
<div class="line">    pop-&amp;gt;add(tmpPop-&amp;gt;individual(i));</div>
<div class="line"> </div>
<div class="line">  pop-&amp;gt;evaluate();  <span class="comment">// get info about current pop for next time</span></div>
<div class="line">  pop-&amp;gt;scale();   <span class="comment">// remind the population to do its scaling</span></div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">for</span>(i=0; i&amp;lt;tmpPop-&amp;gt;size(); i++)</div>
<div class="line">    pop-&amp;gt;destroy(GAPopulation::WORST, GAPopulation::SCALED);</div>
<div class="line"> </div>
<div class="line">  stats.update(*pop);  <span class="comment">// update the statistics by one generation</span></div>
<div class="line">}</div>
<div class="ttc" id="aclassGASteadyStateGA_html"><div class="ttname"><a href="classGASteadyStateGA.html">GASteadyStateGA</a></div><div class="ttdoc">Steady-state genetic algorithm class.</div><div class="ttdef"><b>Definition:</b> GASStateGA.h:16</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md23"></a>
Termination Function</h1>
<p>The termination function determines when the genetic algorithm should stop evolving. It takes a genetic algorithm as its argument and returns gaTrue if the genetic algorithm should stop or gaFalse if the algorithm should continue.</p>
<p>Here are three examples of termination functions. The first compares the current generation to the desired number of generations. If the current generation is less than the desired number of generations, it returns gaFalse to signify that the GA is not yet complete.</p>
<div class="fragment"><div class="line">GABoolean</div>
<div class="line">GATerminateUponGeneration(<a class="code" href="classGAGeneticAlgorithm.html">GAGeneticAlgorithm</a> &amp;amp; ga){</div>
<div class="line">  <span class="keywordflow">return</span>(ga.generation() &amp;lt; ga.nGenerations() ? gaFalse : gaTrue);</div>
<div class="line">}</div>
<div class="ttc" id="aclassGAGeneticAlgorithm_html"><div class="ttname"><a href="classGAGeneticAlgorithm.html">GAGeneticAlgorithm</a></div><div class="ttdef"><b>Definition:</b> GABaseGA.h:110</div></div>
</div><!-- fragment --><p>The second example compares the average score in the current population with the score of the best individual in the current population. If the ratio of these exceeds a specified threshhold, it returns gaTrue to signify that the GA should stop. Basically this means that the entire population has converged to a 'good' score.</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">float</span> desiredRatio = 0.95;    <span class="comment">// stop when pop average is 95% of best</span></div>
<div class="line"> </div>
<div class="line">GABoolean</div>
<div class="line">GATerminateUponScoreConvergence(<a class="code" href="classGAGeneticAlgorithm.html">GAGeneticAlgorithm</a> &amp;amp; ga){</div>
<div class="line">  <span class="keywordflow">if</span>(ga.statistics().current(GAStatistics::Mean) /</div>
<div class="line">     ga.statistics().current(GAStatistics::Maximum) &amp;gt; desiredRatio)</div>
<div class="line">    <span class="keywordflow">return</span> gaTrue;</div>
<div class="line">  <span class="keywordflow">else</span></div>
<div class="line">    <span class="keywordflow">return</span> gaFalse;</div>
<div class="line">}</div>
</div><!-- fragment --><p>The third uses the population diversity as the criterion for stopping. If the diversity drops below a specified threshhold, the genetic algorithm will stop.</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">float</span> thresh = 0.01;     <span class="comment">// stop when population diversity is below this</span></div>
<div class="line"> </div>
<div class="line">GABoolean</div>
<div class="line">StopWhenNoDiversity(<a class="code" href="classGAGeneticAlgorithm.html">GAGeneticAlgorithm</a> &amp;amp; ga){</div>
<div class="line">  <span class="keywordflow">if</span>(ga.statistics().current(GAStatistics::Diversity) &amp;lt; thresh)</div>
<div class="line">    <span class="keywordflow">return</span> gaTrue;</div>
<div class="line">  <span class="keywordflow">else</span></div>
<div class="line">    <span class="keywordflow">return</span> gaFalse;</div>
<div class="line">}</div>
</div><!-- fragment --><p>A faster method of doing a nearly equivalent termination is to use the population's standard deviation as the stopping criterion (this method does not require comparisons of each individual). Notice that this judges diversity based upon the genome scores rather than their actual genetic diversity.</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">float</span> thresh = 0.01;     <span class="comment">// stop when population deviation is below this</span></div>
<div class="line"> </div>
<div class="line">GABoolean</div>
<div class="line">StopWhenNoDeviation(<a class="code" href="classGAGeneticAlgorithm.html">GAGeneticAlgorithm</a> &amp;amp; ga){</div>
<div class="line">  <span class="keywordflow">if</span>(ga.statistics().current(GAStatistics::Deviation) &amp;lt; thresh)</div>
<div class="line">    <span class="keywordflow">return</span> gaTrue;</div>
<div class="line">  <span class="keywordflow">else</span></div>
<div class="line">    <span class="keywordflow">return</span> gaFalse;</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Apr 22 2023 19:10:24 for Modernized GAlib by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
